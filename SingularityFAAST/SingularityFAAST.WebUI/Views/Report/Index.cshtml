
@{
    ViewBag.Title = "Index";

    //TODO
    var beginDateString = DateTime.UtcNow.AddDays(-30).ToString("yyyy-MM-dd");
    var endDateString = "";
}


<h2>Reports</h2>

<br />

@using (Html.BeginForm("ReportFilter", "Report", FormMethod.Post))
{
    <h4 class="has-error" hidden="hidden">Error: Please Enter Valid Dates</h4>
    <h3>Enter Report Range</h3>
    <div>
        Start Date: <input type="date" name="StartDate" id="startDate" value="@(beginDateString)" />     
        End Date: <input type="date" name="EndDate" id="endDate" value="@endDateString" />
    </div>

    <br />

    <h3>Choose Report Type</h3>
    <div>
        <input type="radio" name="ReportType" value="1"/> Loans Report <br />
        <input type="radio" name="ReportType" value="2" /> Client Report <br />
        <input type="radio" name="ReportType" value="3" /> Inventory Report <br />
    </div>
    <br />
    <button type="submit" class="btn btn-primary" onclick="errorHandling()" id="submitLoanReport">Submit</button>

    <p id="message"></p>

@section scripts {
    <script src="~/Scripts/Reports/ReportRange.js"></script>
}


        

    @*<script>
        function errorHandling() 
        {
            var message, startDate, endDate;
            message = document.getElementById("message");
            startDate = document.getElementById("startDate").value;
            endDate = document.getElementById("endDate").value;
            try 
            {
                if (startDate == "" || endDate == "" ) throw "Please enter a value for start date or end date";
                if ((startDate > @DateTime.UtcNow) || (endDate > @DateTime.UtcNow)) throw "Cannot create a report on that date";
            }
            catch(err)
            {
                message.innerHTML = err;
            }
        }
    </script>*@
}

